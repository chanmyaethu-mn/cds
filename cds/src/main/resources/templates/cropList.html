<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorator="layout/layout" xmlns:th="http://www.thymeleaf.org">

<head>
<title>Layout</title>
</head>

<body>

	<div layout:fragment="content">

		<div class="alert alert-success" th:if="${successMessage}"
			role="alert">
			<strong>Well done!</strong> <span th:utext="${successMessage}"></span>
		</div>
		
		<div class="alert alert-danger" th:if="${errorMessage}"
			role="alert">
			<strong>Ooops!</strong> <span th:utext="${errorMessage}"></span>
		</div>

		<div class="row">
			<div class="col-md-12">
				<a href="/createCrop" class="btn btn-info" role="button">CREATE</a>
			</div>
		</div>

		<br>

		<div class="row">
			<div class="col-md-12">
				<table class="table table-dark">
					<thead>
						<tr>
							<!-- <th scope="col">#</th> -->
							<th scope="col">English Name</th>
							<th scope="col">Myanmar Name</th>
							<th scope="col">Biological Name</th>
							<th></th>
						</tr>
					</thead>
					<tbody>

						<tr th:each="crop : ${cropList.pageList}">
							<td th:text="${crop.nameEn}">1</td>
							<td th:text="${crop.nameMm}">Doe</td>
							<td th:text="${crop.bioName}">John</td>
							<td><a th:href="@{editCrop(cropId=${crop.cropId})}"> <i
									class="far fa-edit text-warning"></i>
							</a> &nbsp;&nbsp;
							<a th:href="@{deleteCrop(cropId=${crop.cropId}, currentIndex = ${currentIndex})}" 
								data-toggle="confirmation" data-title="Delete Crop?"> <i
									class="fas fa-trash-alt text-danger"></i>
							</a></td>
						</tr>
					</tbody>
				</table>
			</div>
			
			<div class="col-md-12 text-center">
				<div>
					<ul class="pagination justify-content-center">
						<li class="page-item"
							th:classappend="${currentIndex == 1}? 'disabled' : ''">
							<span class="page-link" th:if="${currentIndex == 1}">First</span>
							<a class="page-link" th:if="${currentIndex != 1}" th:href="@{/products/page/1}">First</a>
						</li>
						<li class="page-item"
							th:classappend="${currentIndex != 1}?'' : 'disabled'">
							<span class="page-link" th:if="${currentIndex == 1}">
								<i class="fas fa-angle-double-left"></i>
							</span>
							<a class="page-link" th:if="${currentIndex != 1}"
								th:href="@{|${baseUrl}${currentIndex-1}|}"
								title="Go to previous page">
								<i class="fas fa-angle-double-left"></i>
							</a>
						</li>
						<li th:each="item : ${#numbers.sequence(beginIndex, endIndex)}"
							class="page-item"
							th:classappend="${item == currentIndex ? 'active' : ''}">
							<span class="page-link" th:if="${item == currentIndex}" th:text="${item}">
								1
							</span>
							<a class="page-link" th:if="${item != currentIndex}"
								th:href="@{|${baseUrl}${item}|}">
								<span th:text="${item}">1</span>
							</a>
						</li>
						
						<li class="page-item"
							th:classappend="${currentIndex != totalPageCount}? '' : 'disabled'">
							<span class="page-link" th:if="${currentIndex == totalPageCount}">
								<i class="fas fa-angle-double-right"></i>
							</span>
							<a class="page-link" th:if="${currentIndex != totalPageCount}"
								th:href="@{|${baseUrl}${currentIndex + 1}|}"
								title="Go to next page">
								<i class="fas fa-angle-double-right"></i>
							</a>
						</li>
						
						<li class="page-item"
							th:classappend="${currentIndex == totalPageCount}? 'disabled' : ''">
							<span class="page-link" th:if="${currentIndex == totalPageCount}">
								Last
							</span>
							<a class="page-link" th:if="${currentIndex != totalPageCount}"
								th:href="@{|${baseUrl}${totalPageCount}|}">
								Last
							</a>
						</li>
					</ul>
				</div>
			</div>
		</div>
	</div>

</body>
</html>